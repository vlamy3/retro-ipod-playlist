<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Retro iPod Playlist</title>
  <style>
    :root {
      --shell: #f5efe2;
      --shell-shadow: #d8d0be;
      --screen-border: #8ca082;
      --screen-bg: #c6d8b2;
      --ink: #222;
      --accent: #cf5f44;
      --wheel: #f8f8f8;
      --wheel-edge: #d9d9d9;
      --button: #ececec;
      --button-active: #d9d9d9;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background:
        radial-gradient(circle at 20% 10%, #efe3c9 0%, transparent 38%),
        radial-gradient(circle at 85% 90%, #f8eecf 0%, transparent 34%),
        linear-gradient(145deg, #cab489, #9b8a66);
      font-family: "Trebuchet MS", "Verdana", sans-serif;
      color: var(--ink);
    }

    .ipod {
      width: min(360px, 92vw);
      border-radius: 32px;
      background: linear-gradient(160deg, var(--shell), #eadfcb);
      box-shadow:
        0 18px 40px rgba(0, 0, 0, 0.25),
        inset 0 -6px 12px rgba(0, 0, 0, 0.08),
        inset 0 6px 10px rgba(255, 255, 255, 0.6);
      padding: 24px;
      border: 1px solid var(--shell-shadow);
    }

    .screen {
      border: 5px solid var(--screen-border);
      border-radius: 14px;
      background: linear-gradient(180deg, #d6e3c8, var(--screen-bg));
      min-height: 215px;
      box-shadow: inset 0 2px 0 rgba(255,255,255,0.5);
      padding: 12px;
      display: grid;
      grid-template-rows: auto auto 1fr auto;
      gap: 8px;
      font-family: "Courier New", monospace;
    }

    .top-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: .5px;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      background: var(--accent);
      border-radius: 50%;
      display: inline-block;
      margin-right: 6px;
      box-shadow: 0 0 8px rgba(207,95,68,.6);
    }

    .playlist-row {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
    }

    select {
      flex: 1;
      border: 1px solid #6d7f64;
      background: #e6f0d7;
      border-radius: 6px;
      font: inherit;
      padding: 4px 6px;
    }

    .track {
      border: 1px dashed #6a7863;
      border-radius: 8px;
      padding: 8px;
      background: rgba(255,255,255,.18);
      display: grid;
      align-content: center;
      gap: 5px;
      min-height: 108px;
    }

    .track h2 {
      margin: 0;
      font-size: 16px;
      line-height: 1.25;
      text-transform: uppercase;
    }

    .track p {
      margin: 0;
      font-size: 12px;
      opacity: .9;
    }

    .meter {
      margin-top: 4px;
      height: 7px;
      border: 1px solid #6d7f64;
      border-radius: 999px;
      overflow: hidden;
      background: rgba(255,255,255,.3);
    }

    .meter > div {
      height: 100%;
      width: 0;
      background: repeating-linear-gradient(
        90deg,
        #1f3f16,
        #1f3f16 5px,
        #315f24 5px,
        #315f24 9px
      );
      transition: width 180ms linear;
    }

    .footer {
      display: flex;
      justify-content: space-between;
      font-size: 11px;
      opacity: .9;
    }

    .wheel-wrap {
      margin-top: 18px;
      display: grid;
      place-items: center;
    }

    .wheel {
      width: 230px;
      aspect-ratio: 1;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #ffffff, var(--wheel));
      border: 2px solid var(--wheel-edge);
      box-shadow:
        inset 0 -8px 14px rgba(0,0,0,.08),
        inset 0 8px 10px rgba(255,255,255,.8);
      position: relative;
    }

    .wheel-btn {
      position: absolute;
      background: transparent;
      border: 0;
      font: 700 15px/1 "Trebuchet MS", sans-serif;
      color: #555;
      letter-spacing: .8px;
      cursor: pointer;
    }

    .wheel-btn:active { color: #222; }

    .menu { top: 16px; left: 50%; transform: translateX(-50%); }
    .prev { left: 20px; top: 50%; transform: translateY(-50%); }
    .next { right: 20px; top: 50%; transform: translateY(-50%); }
    .play { bottom: 16px; left: 50%; transform: translateX(-50%); }

    .center-btn {
      position: absolute;
      width: 92px;
      aspect-ratio: 1;
      border-radius: 50%;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      border: 2px solid #d0d0d0;
      background: radial-gradient(circle at 30% 30%, #fefefe, var(--button));
      box-shadow: inset 0 -5px 8px rgba(0,0,0,.08);
      cursor: pointer;
      font: 700 13px/1 "Trebuchet MS", sans-serif;
      color: #444;
    }

    .center-btn:active {
      background: var(--button-active);
      box-shadow: inset 0 2px 6px rgba(0,0,0,.2);
    }

    .hint {
      text-align: center;
      margin-top: 10px;
      font-size: 12px;
      opacity: .75;
    }

    @media (max-width: 420px) {
      .ipod { padding: 18px; border-radius: 26px; }
      .wheel { width: 200px; }
      .screen { min-height: 196px; }
    }
  </style>
</head>
<body>
  <main class="ipod" aria-label="Retro iPod mockup">
    <section class="screen" aria-live="polite">
      <div class="top-row">
        <span><span class="status-dot"></span>Now Playing</span>
        <span id="track-num">1/1</span>
      </div>

      <div class="playlist-row">
        <label for="playlist">Playlist</label>
        <select id="playlist"></select>
      </div>

      <article class="track">
        <h2 id="title">-</h2>
        <p id="artist">-</p>
        <div class="meter"><div id="progress"></div></div>
      </article>

      <div class="footer">
        <span id="state">Paused</span>
        <span id="time">0:00</span>
      </div>
    </section>

    <div class="wheel-wrap">
      <div class="wheel" role="group" aria-label="iPod controls">
        <button class="wheel-btn menu" id="btn-menu" aria-label="Change playlist">MENU</button>
        <button class="wheel-btn prev" id="btn-prev" aria-label="Previous track">◀◀</button>
        <button class="wheel-btn next" id="btn-next" aria-label="Next track">▶▶</button>
        <button class="wheel-btn play" id="btn-play" aria-label="Play or pause">▶❚❚</button>
        <button class="center-btn" id="btn-center" aria-label="Toggle play">SELECT</button>
      </div>
      <p class="hint">MENU cycles playlists • SELECT toggles play</p>
    </div>
  </main>

  <script>
    const playlists = {
      "Garage Gold": [
        { title: "Tape Deck Hero", artist: "The Sandwaves", duration: 181 },
        { title: "Neon Arcade", artist: "Cassette Bloom", duration: 204 },
        { title: "Skatepark Sunset", artist: "Glass Signals", duration: 193 }
      ],
      "Pixel Nights": [
        { title: "8-Bit Boulevard", artist: "Data Hearts", duration: 166 },
        { title: "Save Point", artist: "Coin Loop", duration: 176 },
        { title: "CRT Dreams", artist: "Moon Sprite", duration: 212 }
      ],
      "Roadtrip Mix": [
        { title: "Exit 95", artist: "Open Highway", duration: 228 },
        { title: "Diner Coffee", artist: "June & The Miles", duration: 189 },
        { title: "Midnight Polaroid", artist: "Motel Stereo", duration: 201 }
      ]
    };

    const ui = {
      playlist: document.getElementById("playlist"),
      title: document.getElementById("title"),
      artist: document.getElementById("artist"),
      trackNum: document.getElementById("track-num"),
      state: document.getElementById("state"),
      time: document.getElementById("time"),
      progress: document.getElementById("progress"),
      btnMenu: document.getElementById("btn-menu"),
      btnPrev: document.getElementById("btn-prev"),
      btnNext: document.getElementById("btn-next"),
      btnPlay: document.getElementById("btn-play"),
      btnCenter: document.getElementById("btn-center")
    };

    let playlistNames = Object.keys(playlists);
    let activePlaylist = playlistNames[0];
    let activeTrack = 0;
    let elapsed = 0;
    let playing = false;

    const formatTime = (secs) => {
      const min = Math.floor(secs / 60);
      const sec = secs % 60;
      return `${min}:${String(sec).padStart(2, "0")}`;
    };

    function currentTrack() {
      return playlists[activePlaylist][activeTrack];
    }

    function renderPlaylistOptions() {
      ui.playlist.innerHTML = "";
      playlistNames.forEach((name) => {
        const option = document.createElement("option");
        option.value = name;
        option.textContent = name;
        ui.playlist.appendChild(option);
      });
      ui.playlist.value = activePlaylist;
    }

    function render() {
      const track = currentTrack();
      ui.title.textContent = track.title;
      ui.artist.textContent = track.artist;
      ui.trackNum.textContent = `${activeTrack + 1}/${playlists[activePlaylist].length}`;
      ui.state.textContent = playing ? "Playing" : "Paused";
      ui.time.textContent = `${formatTime(elapsed)} / ${formatTime(track.duration)}`;
      ui.progress.style.width = `${(elapsed / track.duration) * 100}%`;
    }

    function setPlaylist(name) {
      activePlaylist = name;
      activeTrack = 0;
      elapsed = 0;
      renderPlaylistOptions();
      render();
    }

    function togglePlay() {
      playing = !playing;
      render();
    }

    function nextTrack() {
      activeTrack = (activeTrack + 1) % playlists[activePlaylist].length;
      elapsed = 0;
      render();
    }

    function prevTrack() {
      activeTrack = (activeTrack - 1 + playlists[activePlaylist].length) % playlists[activePlaylist].length;
      elapsed = 0;
      render();
    }

    ui.playlist.addEventListener("change", (e) => {
      setPlaylist(e.target.value);
    });

    ui.btnMenu.addEventListener("click", () => {
      const idx = playlistNames.indexOf(activePlaylist);
      const nextIdx = (idx + 1) % playlistNames.length;
      setPlaylist(playlistNames[nextIdx]);
    });

    ui.btnNext.addEventListener("click", nextTrack);
    ui.btnPrev.addEventListener("click", prevTrack);
    ui.btnPlay.addEventListener("click", togglePlay);
    ui.btnCenter.addEventListener("click", togglePlay);

    setInterval(() => {
      if (!playing) return;
      elapsed += 1;
      if (elapsed >= currentTrack().duration) {
        nextTrack();
      }
      render();
    }, 1000);

    renderPlaylistOptions();
    render();
  </script>
</body>
</html>
